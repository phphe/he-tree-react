<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | He Tree React</title>
    <meta name="description" content="A VitePress Site">
    <meta name="generator" content="VitePress v1.0.0-rc.44">
    <link rel="preload stylesheet" href="/assets/style.CN68qRN9.css" as="style">
    
    <script type="module" src="/assets/app.CbmclKTi.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Bu8hRsVA.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BthLuVtL.js">
    <link rel="modulepreload" href="/assets/chunks/theme.CmAQZRmM.js">
    <link rel="modulepreload" href="/assets/v1_api.md.CK2Qh4Iq.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GVYKBNTKPG"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-GVYKBNTKPG");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-19c990f1><div class="wrapper" data-v-19c990f1><div class="container" data-v-19c990f1><div class="title" data-v-19c990f1><div class="VPNavBarTitle" data-v-19c990f1 data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!----><span data-v-ab179fa1>He Tree React</span><!--[--><!--]--></a></div></div><div class="content" data-v-19c990f1><div class="content-body" data-v-19c990f1><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19c990f1><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19c990f1 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/v1/guide" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/v1/examples" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Examples</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/v1/api" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>API</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>v1.1.4</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://github.com/phphe/he-tree-react/releases" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Changelog<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-19c990f1 data-v-88af2de4 data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><span class="vpi-languages option-icon" data-v-b6c34ac9></span><!----><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="items" data-v-88af2de4><p class="title" data-v-88af2de4>English</p><!--[--><div class="VPMenuLink" data-v-88af2de4 data-v-43f1e123><a class="VPLink link" href="/zh/v1/api" data-v-43f1e123><!--[-->中文<!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-19c990f1 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-19c990f1 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/phphe/he-tree-react" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-19c990f1 data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><div class="group translations" data-v-d0bd9dde><p class="trans-title" data-v-d0bd9dde>English</p><!--[--><div class="VPMenuLink" data-v-d0bd9dde data-v-43f1e123><a class="VPLink link" href="/zh/v1/api" data-v-43f1e123><!--[-->中文<!--]--></a></div><!--]--></div><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/phphe/he-tree-react" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19c990f1 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-19c990f1><div class="divider-line" data-v-19c990f1></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-d2ecc192><button data-v-d2ecc192>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-935f8a84><div class="content" data-v-935f8a84><div class="outline-marker" data-v-935f8a84></div><div class="outline-title" role="heading" aria-level="2" data-v-935f8a84>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-935f8a84><span class="visually-hidden" id="doc-outline-aria-label" data-v-935f8a84> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-935f8a84 data-v-b933a997><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _v1_api" data-v-39a288b8><div><h1 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h1><h2 id="exported" tabindex="-1">Exported <a class="header-anchor" href="#exported" aria-label="Permalink to &quot;Exported&quot;">​</a></h2><p>The exported variables, methods, and Typescript types.</p><ul><li><a href="#usehetree"><code>useHeTree</code></a>: Main React hook. This library does not export components, you need to use the <a href="#rendertree"><code>renderTree</code></a> render tree returned by this function.</li><li><a href="#walktreedata"><code>walkTreeData</code></a>, <a href="#walktreedatagenerator"><code>walkTreeDataGenerator</code></a>, <a href="#findtreedata"><code>findTreeData</code></a>, <a href="#filtertreedata"><code>filterTreeData</code></a>, <a href="#openparentsintreedata"><code>openParentsInTreeData</code></a>, <a href="#updatecheckedintreedata"><code>updateCheckedInTreeData</code></a>: Methods for processing and traversing tree data.</li><li><a href="#sortflatdata"><code>sortFlatData</code></a>, <a href="#walkflatdata"><code>walkFlatData</code></a>, <a href="#walkflatdatagenerator"><code>walkFlatDataGenerator</code></a>, <a href="#convertindextotreeindexinflatdata"><code>convertIndexToTreeIndexInFlatData</code></a>, <a href="#addtoflatdata"><code>addToFlatData</code></a>, <a href="#removebyidinflatdata"><code>removeByIdInFlatData</code></a>, <a href="#openparentsinflatdata"><code>openParentsInFlatData</code></a>, <a href="#updatecheckedinflatdata"><code>updateCheckedInFlatData</code></a>: Methods for processing and traversing flat data.</li><li><a href="#walkparentsgenerator"><code>walkParentsGenerator</code></a>: To iterate over another special kind of data. This data is like <code>HTMLElement</code>, which contains a key pointing to the parent node like <code>parentElement</code>.</li><li><code>defaultProps</code>: The default value of <code>useHeTree</code> options.</li></ul><p>Typescript types:</p><ul><li><code>Id</code>: node id, parent id. Type: <code>string | number</code>.</li><li><a href="#stat"><code>Stat</code></a>: Node information.</li><li><code>HeTreeProps</code>: Options for <code>useHeTree</code>.</li></ul><h2 id="usehetree" tabindex="-1">useHeTree <a class="header-anchor" href="#usehetree" aria-label="Permalink to &quot;useHeTree&quot;">​</a></h2><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useHeTree } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;he-tree-react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* return */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useHeTree</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* options */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// prettier-ignore</span></span></code></pre></div><p>The main function of this library. React hook. The arguments are as follows:</p><ul><li><p>options: Options, type is object. The following are some properties in options:</p><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>data<a id="data"></a></td><td>Array</td><td></td><td style="text-align:left;">Data. Check <a href="./guide#data-types">Data Types</a>.</td></tr><tr><td>dataType<a id="datatype"></a></td><td>&#39;flat&#39;, &#39;tree&#39;</td><td>&#39;flat&#39;</td><td style="text-align:left;">Data Types</td></tr><tr><td>idKey<a id="idkey"></a></td><td>string</td><td>&#39;id&#39;</td><td style="text-align:left;">key of id 名.</td></tr><tr><td>parentIdKey<a id="parentidkey"></a></td><td>string</td><td>&#39;parent_id&#39;</td><td style="text-align:left;">key of the parent id. For flat data only.</td></tr><tr><td>childrenKey<a id="childrenkey"></a></td><td>string</td><td>&#39;children&#39;</td><td style="text-align:left;">key of children nodes. For tree data only.</td></tr><tr><td>indent<a id="indent"></a></td><td>number</td><td>20</td><td style="text-align:left;">Node indentation, unit is px.</td></tr><tr><td>dragOpen<a id="dragopen"></a></td><td>boolean</td><td>false</td><td style="text-align:left;">Whether to enable the function &quot;Open node when dragging over node&quot;.</td></tr><tr><td>dragOpenDelay<a id="dragopendelay"></a></td><td>number</td><td>600</td><td style="text-align:left;">The waiting time to open the node when dragging over the node. The unit is milliseconds.</td></tr><tr><td>onDragOpen<a id="ondragopen"></a></td><td><code>function(stat): void</code></td><td></td><td style="text-align:left;">The callback of &quot;Open node when dragging over node&quot;.</td></tr><tr><td>direction<a id="direction"></a></td><td>&#39;lrt&#39;, &#39;rtl&#39;</td><td>&#39;ltr&#39;</td><td style="text-align:left;">Display direction, ltr is displayed from left to right, rtl is the opposite.</td></tr><tr><td>rootId<a id="rootid"></a></td><td>string, null</td><td>null</td><td style="text-align:left;">The parent id of a node that has not parent in flat data.</td></tr><tr><td>virtual<a id="virtual"></a></td><td>boolean</td><td>false</td><td style="text-align:left;">Whether to enable virtualization. Used to improve performance when there is a lot of data.</td></tr><tr><td>keepPlaceholder<a id="keepplaceholder"></a></td><td>boolean</td><td>false</td><td style="text-align:left;">Whether to retain placeholder when dragging out of the tree. It is recommended to enable this only on one tree page.</td></tr><tr><td>openIds<a id="openids"></a></td><td>Array</td><td></td><td style="text-align:left;">All open nodes&#39; id.</td></tr><tr><td>checkedIds<a id="checkedids"></a></td><td>Array</td><td></td><td style="text-align:left;">All checked nodes&#39; id.</td></tr><tr><td>isFunctionReactive<a id="isfunctionreactive"></a></td><td>boolean</td><td>false</td><td style="text-align:left;">Whether to listen for change of the callback functions. <a href="./guide#isfunctionreactive">Reference</a></td></tr></tbody></table><p>The remaining callback functions in options:</p><table><thead><tr><th>Name</th><th>Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>renderNode<a id="rendernode"></a></td><td><code>(stat)=&gt; ReactNode</code></td><td style="text-align:left;">Node render.</td></tr><tr><td>renderNodeBox<a id="rendernodebox"></a></td><td><code>({stat, attrs, isPlaceholder})=&gt; ReactNode</code></td><td style="text-align:left;">nodeBox&#39;s render. <a href="./guide#node_structure_style">Reference</a>.</td></tr><tr><td>onChange<a id="onchange"></a></td><td><code>(newData)=&gt;void</code></td><td style="text-align:left;">Callback on data change</td></tr><tr><td>canDrag<a id="candrag"></a></td><td><code>(stat)=&gt;boolean, null, undefined, void</code></td><td style="text-align:left;">Whether a node draggable. Returning <code>null, undefined, void</code> means inheriting the parent node.</td></tr><tr><td>canDrop<a id="candrop"></a></td><td><code>(stat, index)=&gt;boolean, null, undefined, void</code></td><td style="text-align:left;">Whether a node droppable. Returning <code>null, undefined, void</code> means inheriting the parent node. The parameter <code>index</code> may be empty. If it is not empty, it indicates the position.</td></tr><tr><td>customDragImage<a id="customdragimage"></a></td><td><code>(event, stat)=&gt; void</code></td><td style="text-align:left;">Called <code>event.dataTransfer.setDragImage</code> to custom drag image. <a href="https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/setDragImage" target="_blank" rel="noreferrer">Reference</a>.</td></tr><tr><td>onDragStart<a id="ondragstart"></a></td><td><code>(event, stat)=&gt; void</code></td><td style="text-align:left;"></td></tr><tr><td>onExternalDragOver<a id="onexternaldragover"></a></td><td><code>(event)=&gt;boolean</code></td><td style="text-align:left;">Called when drag from external. Must return a Boolean value to indicate whether to handle this drag.</td></tr><tr><td>onDragOver<a id="ondragover"></a></td><td><code>(event, stat, isExternal)=&gt; void</code></td><td style="text-align:left;"><code>isExternal</code> indicates whether the drag is from outside.</td></tr><tr><td>onDragEnd<a id="ondragend"></a></td><td><code>(event, stat, isOutside)=&gt;void</code></td><td style="text-align:left;">Called on dragend and this drag is started in this tree. <code>stat</code> is the stat of the dragged node. <code>isOutside</code> indicates whether it ended outside the tree.</td></tr><tr><td>onExternalDrop<a id="onexternaldrop"></a></td><td><code>(event, parentStat, index)=&gt;void</code></td><td style="text-align:left;">Called when the external drag ends on this tree. parentStat is the stat of the target parent node, and when it is empty, it represents the root of the tree. Index is the target position, the index of the node among siblings.</td></tr></tbody></table></li></ul><h3 id="return-of-usehetree" tabindex="-1">Return of <code>useHeTree</code> <a class="header-anchor" href="#return-of-usehetree" aria-label="Permalink to &quot;Return of `useHeTree`&quot;">​</a></h3><p>The return of <code>useHeTree</code> is an object, including some states and methods. <strong>Note</strong>, this object will change every time. Do not rely on this object, but you can rely on the properties of this object. The properties are as follows:</p><table><thead><tr><th>Name</th><th>Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>renderTree<a id="rendertree"></a></td><td><code>(options?: { className?: string, style?: React.CSSProperties }): ReactNode</code></td><td style="text-align:left;">Tree render. Options can be passed in <code>className</code> and <code>style</code> to control the style of the root element.</td></tr><tr><td>getStat<a id="getstat"></a></td><td><code>(idOrNodeOrStat)=&gt;stat</code></td><td style="text-align:left;">Get stat by id, or node data, or stat object.</td></tr><tr><td>allIds<a id="allids"></a></td><td>Array</td><td style="text-align:left;">The ids of all nodes.</td></tr><tr><td>rootIds<a id="rootids"></a></td><td>Array</td><td style="text-align:left;">The ids of all root nodes</td></tr><tr><td>rootNodes<a id="rootnodes"></a></td><td>Array</td><td style="text-align:left;">All root nodes. In tree data, it is same with <code>options.data</code>.</td></tr><tr><td>rootStats<a id="rootstats"></a></td><td>Array</td><td style="text-align:left;">All root nodes&#39; stat.</td></tr><tr><td>placeholder<a id="placeholder"></a></td><td><code>{parentStat, index, level}</code></td><td style="text-align:left;">Drag placeholder info. Null if it does not exist.</td></tr><tr><td>draggingStat<a id="draggingstat"></a></td><td><code>stat</code></td><td style="text-align:left;">When a drag is initiated from this tree, the stat of the dragged node. Null if it does not exist.</td></tr><tr><td>dragOverStat<a id="dragoverstat"></a></td><td><code>stat</code></td><td style="text-align:left;">Dragging over node&#39;s stat. May be null.</td></tr><tr><td>visibleIds<a id="visibleids"></a></td><td>Array</td><td style="text-align:left;">All visible nodes&#39; id.</td></tr><tr><td>attrsList<a id="attrslist"></a></td><td>Array</td><td style="text-align:left;">All visible nodes&#39; attrs.</td></tr><tr><td>virtualListRef<a id="virtuallistref"></a></td><td><code>ref</code></td><td style="text-align:left;"><code>ref</code> of virtual list component, Check <a href="https://github.com/phphe/react-base-virtual-list" target="_blank" rel="noreferrer">virtual list</a>.</td></tr><tr><td>scrollToNode<a id="scrolltonode"></a></td><td><code>(idOrNodeOrStat)=&gt;boolean</code></td><td style="text-align:left;">Scroll to node. The argument can be id, node or stat. If node not found or invisible, it return <code>false</code>. <a href="./examples#scroll_to_node2">Example</a></td></tr></tbody></table><h2 id="walktreedatagenerator" tabindex="-1">walkTreeDataGenerator <a class="header-anchor" href="#walktreedatagenerator" aria-label="Permalink to &quot;walkTreeDataGenerator&quot;">​</a></h2><p>The method of traversing tree data through <code>for of</code>. Executing <code>skipChildren()</code> in the loop will skip all child nodes of the node, and executing <code>exitWalk</code> will end the traversal.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">siblings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">skipChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exitWalk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> walkTreeDataGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;children&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="walktreedata" tabindex="-1">walkTreeData <a class="header-anchor" href="#walktreedata" aria-label="Permalink to &quot;walkTreeData&quot;">​</a></h2><p>The method to traverse tree data through the callback method. Executing <code>skipChildren()</code> in the callback method will skip all child nodes of the node, and executing <code>exitWalk</code> will end the traversal.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">walkTreeDataGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">siblings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">skipChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exitWalk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;children&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="findtreedata" tabindex="-1">findTreeData <a class="header-anchor" href="#findtreedata" aria-label="Permalink to &quot;findTreeData&quot;">​</a></h2><p>Like <code>Array.prototype.find</code>. Returns the first node found. Executing <code>skipChildren()</code> in the callback method will skip all child nodes of the node, and executing <code>exitWalk</code> will end the traversal.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> foundNode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> findTreeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">siblings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">skipChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exitWalk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // return node.id === 1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;children&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="filtertreedata" tabindex="-1">filterTreeData <a class="header-anchor" href="#filtertreedata" aria-label="Permalink to &quot;filterTreeData&quot;">​</a></h2><p>Like <code>Array.prototype.filter</code>. Returns all nodes found. Executing <code>skipChildren()</code> in the callback method will skip all child nodes of the node, and executing <code>exitWalk</code> will end the traversal.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nodes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> filterTreeData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">parents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">siblings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">skipChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">exitWalk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // return node.id &gt; 1;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;children&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="openparentsintreedata" tabindex="-1">openParentsInTreeData <a class="header-anchor" href="#openparentsintreedata" aria-label="Permalink to &quot;openParentsInTreeData&quot;">​</a></h2><p>Open all parent nodes of a single or multiple nodes to make the node visible. <a href="./guide#node_open">Reference</a>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  treeData,</span></span>
<span class="line"><span>  openIds: Id[],</span></span>
<span class="line"><span>  idOrIds: Id | Id[],</span></span>
<span class="line"><span>  options?: {idKey: string, childrenKey: string}</span></span>
<span class="line"><span>): newOpenIds</span></span></code></pre></div><h2 id="updatecheckedintreedata" tabindex="-1">updateCheckedInTreeData <a class="header-anchor" href="#updatecheckedintreedata" aria-label="Permalink to &quot;updateCheckedInTreeData&quot;">​</a></h2><p>Update the <code>checked</code> status of a single node or multiple nodes. This will update both their children and parents. <a href="./guide#node_checked">Reference</a>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  treeData,</span></span>
<span class="line"><span>  checkedIds: Id[],</span></span>
<span class="line"><span>  idOrIds: Id | Id[],</span></span>
<span class="line"><span>  checked: boolean,</span></span>
<span class="line"><span>  options?: {idKey: string, childrenKey: string}</span></span>
<span class="line"><span>): [newCheckedIds, newSemiCheckedIds]</span></span></code></pre></div><h2 id="sortflatdata" tabindex="-1">sortFlatData <a class="header-anchor" href="#sortflatdata" aria-label="Permalink to &quot;sortFlatData&quot;">​</a></h2><p>Sort the flat data according to the order of the nodes in the tree. Return the new sorted array. Your data should use it to ensure order after initialized.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  options?: {idKey: string, parentIdKey: string}</span></span>
<span class="line"><span>): sortedData</span></span></code></pre></div><h2 id="walkflatdatagenerator" tabindex="-1">walkFlatDataGenerator <a class="header-anchor" href="#walkflatdatagenerator" aria-label="Permalink to &quot;walkFlatDataGenerator&quot;">​</a></h2><p>The method of traversing flat data through <code>for of</code>. Executing <code>skipChildren()</code> in the loop will skip all the child nodes of the node, and executing <code>exitWalk</code> will end the traversal. Make sure the order of your data is correct before using it.</p><p>Compared to walkTreeDataGenerator, it lacks <code>siblings</code>, but has <code>treeIndex, id, pid</code>. treeIndex is the index of the node in the tree.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">parents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">index</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">treeIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">pid</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">skipChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exitWalk</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> walkFlatDataGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(flatData, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  idKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  parentIdKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parent_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="walkflatdata" tabindex="-1">walkFlatData <a class="header-anchor" href="#walkflatdata" aria-label="Permalink to &quot;walkFlatData&quot;">​</a></h2><p>The method of traversing flat data through the callback method. Executing <code>skipChildren()</code> in the callback method will skip all child nodes of the node, and executing <code>exitWalk</code> will end the traversal. Before using, make sure that the order of your data is correct.</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">walkFlatData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  flatData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { parent, parents, index, treeIndex, id, pid, skipChildren, exitWalk }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    idKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parentIdKey: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parent_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h2 id="openparentsinflatdata" tabindex="-1">openParentsInFlatData <a class="header-anchor" href="#openparentsinflatdata" aria-label="Permalink to &quot;openParentsInFlatData&quot;">​</a></h2><p>Open all parent nodes of a single or multiple nodes to make the node visible. Make sure your data is in the correct order before using it. <a href="./guide#node_open">Reference</a>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  openIds: Id[],</span></span>
<span class="line"><span>  idOrIds: Id | Id[],</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    idKey: &quot;id&quot;,</span></span>
<span class="line"><span>    parentIdKey: &quot;parent_id&quot;,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>): newOpenIds</span></span></code></pre></div><h2 id="updatecheckedinflatdata" tabindex="-1">updateCheckedInFlatData <a class="header-anchor" href="#updatecheckedinflatdata" aria-label="Permalink to &quot;updateCheckedInFlatData&quot;">​</a></h2><p>Update the <code>checked</code> status of a single node or multiple nodes. This will update both their children and parents. Make sure your data is in the correct order before using it. <a href="./guide#node_checked">Reference</a>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  checkedIds: Id[],</span></span>
<span class="line"><span>  idOrIds: Id | Id[],</span></span>
<span class="line"><span>  checked: boolean,</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    idKey: &quot;id&quot;,</span></span>
<span class="line"><span>    parentIdKey: &quot;parent_id&quot;,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>): [newCheckedIds, newSemiCheckedIds]</span></span></code></pre></div><h2 id="convertindextotreeindexinflatdata" tabindex="-1">convertIndexToTreeIndexInFlatData <a class="header-anchor" href="#convertindextotreeindexinflatdata" aria-label="Permalink to &quot;convertIndexToTreeIndexInFlatData&quot;">​</a></h2><p>Calculate the index of a node in the tree through its parent node id and its index in the sibling nodes.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  parentId: Id | null,</span></span>
<span class="line"><span>  indexInSiblings: Id | null,</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    idKey: &quot;id&quot;,</span></span>
<span class="line"><span>    parentIdKey: &quot;parent_id&quot;,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>): treeIndex</span></span></code></pre></div><h2 id="addtoflatdata" tabindex="-1">addToFlatData <a class="header-anchor" href="#addtoflatdata" aria-label="Permalink to &quot;addToFlatData&quot;">​</a></h2><p>Add a node to the flat data. It will change the original data array. Therefore, it is recommended to pass in a copy of the original data, or use it together with <code>useImmer</code>. <a href="./guide#update_flat_data_with_inner_methods2">Reference</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  newNode,</span></span>
<span class="line"><span>  index: Id | null,</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    idKey: &quot;id&quot;,</span></span>
<span class="line"><span>    parentIdKey: &quot;parent_id&quot;,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>):void</span></span></code></pre></div><h2 id="removebyidinflatdata" tabindex="-1">removeByIdInFlatData <a class="header-anchor" href="#removebyidinflatdata" aria-label="Permalink to &quot;removeByIdInFlatData&quot;">​</a></h2><p>Remove node by id from the flat data. It will change the original data array. Therefore, it is recommended to pass in a copy of the original data, or use it together with <code>useImmer</code>. <a href="./guide#update_flat_data_with_inner_methods2">Reference</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  flatData,</span></span>
<span class="line"><span>  removeId: Id | null,</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    idKey: &quot;id&quot;,</span></span>
<span class="line"><span>    parentIdKey: &quot;parent_id&quot;,</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>): removedData</span></span></code></pre></div><h2 id="walkparentsgenerator" tabindex="-1">walkParentsGenerator <a class="header-anchor" href="#walkparentsgenerator" aria-label="Permalink to &quot;walkParentsGenerator&quot;">​</a></h2><p>A method to iterate over another special kind of data. This data is like <code>HTMLElement</code>, which contains keys pointing to the parent node like <code>parentElement</code>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>(</span></span>
<span class="line"><span>  node,</span></span>
<span class="line"><span>  parentKeyOrGetter: string | ((node) =&gt; parent | undefined),</span></span>
<span class="line"><span>  options?: {</span></span>
<span class="line"><span>    withSelf: boolean;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>): Generator</span></span></code></pre></div><p><code>parentKeyOrGetter</code> can be a string or a method that returns the parent. <code>options.withSelf</code> indicates whether to include the node self. Returns <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator" target="_blank" rel="noreferrer">Generator</a>. Here is an example of traversing HTMLElement:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> el </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">querySelector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;div&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> walkParentsGenerator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(el, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;parentElement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  withSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="stat" tabindex="-1">Stat <a class="header-anchor" href="#stat" aria-label="Permalink to &quot;Stat&quot;">​</a></h2><p><code>stat</code> contains information related to the node. Read-only. The properties are as follows:</p><table><thead><tr><th>Name</th><th>Type</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>_isStat</td><td>boolean</td><td style="text-align:left;">Indicates whether it is a stat object</td></tr><tr><td>node</td><td>object</td><td style="text-align:left;">node data</td></tr><tr><td>id</td><td>Id</td><td style="text-align:left;">id</td></tr><tr><td>pid</td><td>Id, null</td><td style="text-align:left;">parent id</td></tr><tr><td>parent</td><td>object, null</td><td style="text-align:left;">parent data</td></tr><tr><td>parentStat</td><td>stat, null</td><td style="text-align:left;">parent stat</td></tr><tr><td>childIds</td><td>Id[]</td><td style="text-align:left;"></td></tr><tr><td>children</td><td>object[]</td><td style="text-align:left;"></td></tr><tr><td>childStats</td><td>stat[]</td><td style="text-align:left;">stats of children</td></tr><tr><td>siblingIds</td><td>Id[]</td><td style="text-align:left;"></td></tr><tr><td>siblings</td><td>object[]</td><td style="text-align:left;">sibling nodes</td></tr><tr><td>siblingStats</td><td>stat[]</td><td style="text-align:left;">stats of siblings</td></tr><tr><td>index</td><td>number</td><td style="text-align:left;">node&#39;s index in siblings</td></tr><tr><td>level</td><td>number</td><td style="text-align:left;">node&#39;s depth in tree. Start from 1</td></tr><tr><td>open</td><td>boolean</td><td style="text-align:left;"></td></tr><tr><td>checked</td><td>boolean</td><td style="text-align:left;"></td></tr><tr><td>draggable</td><td>boolean</td><td style="text-align:left;"></td></tr></tbody></table></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-09de1c0f><!--[--><!--]--><div class="edit-info" data-v-09de1c0f><!----><div class="last-updated" data-v-09de1c0f><p class="VPLastUpdated" data-v-09de1c0f data-v-7e05ebdb>Last updated: <time datetime="2024-03-07T16:47:31.000Z" data-v-7e05ebdb></time></p></div></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"zh_v1_api.md\":\"CiUYUWpn\",\"index.md\":\"GG8eDOKl\",\"zh_index.md\":\"CeZko03B\",\"v1_examples.md\":\"BxhVKFKt\",\"v1_api.md\":\"CK2Qh4Iq\",\"zh_v1_guide.md\":\"Cqe7cNJK\",\"v1_guide.md\":\"SA3q8pwN\",\"zh_v1_examples.md\":\"BhNg7E1Z\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"He Tree React\",\"description\":\"A VitePress Site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/phphe/he-tree-react\"}]},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/v1/guide\"},{\"text\":\"Examples\",\"link\":\"/v1/examples\"},{\"text\":\"API\",\"link\":\"/v1/api\"},{\"text\":\"v1.1.4\",\"items\":[{\"text\":\"Changelog\",\"link\":\"https://github.com/phphe/he-tree-react/releases\"}]}]}},\"zh\":{\"label\":\"中文\",\"lang\":\"zh\",\"themeConfig\":{\"nav\":[{\"text\":\"首页\",\"link\":\"/zh/\"},{\"text\":\"使用\",\"link\":\"/zh/v1/guide\"},{\"text\":\"例子\",\"link\":\"/zh/v1/examples\"},{\"text\":\"API\",\"link\":\"/zh/v1/api\"},{\"text\":\"v1.1.4\",\"items\":[{\"text\":\"更新日志\",\"link\":\"https://github.com/phphe/he-tree-react/releases\"}]}]}}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>